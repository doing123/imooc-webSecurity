# imooc-webSecurity

## web前后端漏洞分析与防御技巧

* xss：跨站脚本攻击

    存储型，反射型

    * 防御：

        * 浏览器自身过滤
        * 黑白名单过滤（xss的库）
        * csp: 内容安全策略

* csrf:跨站请求伪造

    * 不访问目标网站的前端
    * referer为B网站

* 点击劫持：目标网站作为iframe嵌入到攻击者网站中，opacity为0
    
    * js禁止内嵌
    * http头：X-FRAME-OPTIONS禁止内嵌 DENY
    * 其他辅助手段（验证码：增加操作的门槛）

* 传输安全
    * http窃听和篡改
    * HTTPS， CA：数字证书中心

* 密码安全
    * 密码比对，严禁明文存储
    * 哈希算法：md5,sha1,sha256
    * 单向变换彩虹表
    * 加固：
        * 密码复杂度
        * 加盐
        * 多次变换
    * 传输的安全性：
        * HTTPS传输
        * 频率限制
        * 前端加密意义有限
    * 生物特征密码

* 接入层注入问题
    * SQL注入：数据变程序执行
    * 防御：
        * 关闭错误的输出
        * 检查数据类型
        * 对数据转义
        * 使用参数化查询
        * 使用ORM（对象关系映射）

* 接入层上传问题
    * 上传问题
    * 再次访问上传的文件
    * 上传的文件被当作程序解析
    * 防御
        * 限制上传后缀
        * 文件类型检查
        * 文件内容检查
        * 程序输出
        * 权限控制--可写可执行互斥

* 信息泄露和社会工程学
    * OAuth思想保护用户资料

* DOS攻击：拒绝服务攻击
    * 模拟正常服务
    * 大量占用服务器资源
    * 无法服务正常用户
    * 防御： 
        * 防火墙
        * 交换机、路由器
        * 流量清洗
        * 高仿IP
    * 攻击方式：
        * TCP半连接
        * HTTP连接
        * DNS
    * 预防
        * 避免重逻辑业务
        * 快速失败快速返回
        * 防雪崩机制
        * 有损服务
        * CDN

* 重放攻击
    * 请求被窃听或记录
    * 再次发起相同的请求
    * 产生意外的结果
    * 防御
        * 加密HTTPS
        * 时间戳
        * token（session）
        * nonce
        * 签名
